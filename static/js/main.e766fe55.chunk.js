(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1016:function(e,a,t){"use strict";t.r(a);var r=t(6),n=t.n(r),c=t(48),o=t.n(c),l=(t(549),t(466)),s=t(467),u=t(506),i=t(468),m=t(507),E=t(1037),d=t(1035),h=t(353),g=t(508),f=t(214),b=t.n(f),p=t(347),k=t(247),w=t(30),S=t.n(w),v={userProfilePath:"/users/",localStorageTokenName:"RAFirebaseClientToken",localStorageProfileName:"RAFirebaseProfile",handleAuthStateChange:function(){var e=Object(p.a)(b.a.mark(function e(a,t){var r,n,c,o;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!a){e.next=21;break}return e.next=3,S.a.database().ref(t.userProfilePath+a.user.uid).once("value");case 3:if(r=e.sent,!(n=r.val())){e.next=15;break}return e.next=8,a.user.getIdToken();case 8:return c=e.sent,o={auth:a,profile:n,firebaseToken:c},localStorage.setItem(t.localStorageTokenName,c),localStorage.setItem(t.localStorageProfileName,JSON.stringify(n)),e.abrupt("return",o);case 15:throw S.a.auth().signOut(),localStorage.removeItem(t.localStorageTokenName),localStorage.removeItem(t.localStorageProfileName),new Error("sign_in_error");case 19:e.next=24;break;case 21:throw localStorage.removeItem(t.localStorageTokenName),localStorage.removeItem(t.localStorageProfileName),new Error("sign_in_error");case 24:case"end":return e.stop()}},e,this)}));return function(a,t){return e.apply(this,arguments)}}()},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e=Object(g.a)({},v,e);return function(){var a=Object(p.a)(b.a.mark(function a(t,r){var n,c,o,l;return b.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(t!==k.e){a.next=3;break}return e.handleAuthStateChange(null,e).catch(function(){}),a.abrupt("return",S.a.auth().signOut());case 3:if(!S.a.auth().currentUser){a.next=6;break}return a.next=6,S.a.auth().currentUser.reload();case 6:if(t!==k.a){a.next=12;break}return a.next=9,new Promise(function(e){S.a.auth().onAuthStateChanged(e)});case 9:if(S.a.auth().currentUser){a.next=11;break}throw new Error("sign_in_error");case 11:return a.abrupt("return",!0);case 12:if(t!==k.d){a.next=20;break}if(n=r.username,c=r.password,o=r.alreadySignedIn,(l=S.a.auth().currentUser)&&o){a.next=19;break}return a.next=18,S.a.auth().signInWithEmailAndPassword(n,c);case 18:l=a.sent;case 19:return a.abrupt("return",e.handleAuthStateChange(l,e));case 20:return a.abrupt("return",!1);case 21:case"end":return a.stop()}},a,this)}));return function(e,t){return a.apply(this,arguments)}}()},O=t(261),x=t.n(O),j=t(169),I=t(1026),A=t(1038),y=t(1039),N=t(1045),F=t(1029),L=t(1030),R=t(1046),T=t(1044),_=t(1032),z=t(1047),C=t(1041),J=t(1040),U=t(1043),B=function(e){var a=Object(j.unparse)({data:e,fields:["name","username","email"]});Object(I.a)(a,"posts")},D=function(e){try{var a=localStorage.getItem("RAFirebaseProfile"),t=JSON.parse(a);return n.a.createElement(A.a,Object.assign({title:"All users",exporter:B},e),n.a.createElement(y.a,null,n.a.createElement(N.a,{source:"name"}),n.a.createElement(N.a,{source:"username"}),n.a.createElement(N.a,{source:"email"}),t&&t.isAdmin?n.a.createElement(F.a,null):null,n.a.createElement(L.a,null)))}catch(r){}},W={zIndex:2,display:"inline-block",float:"right"},K=function(e){e.permissions;var a=e.basePath,t=e.data,c=e.resource,o=localStorage.getItem("RAFirebaseProfile"),l=JSON.parse(o);return n.a.createElement(x.a,{style:W},l&&l.isAdmin&&n.a.createElement(r.Fragment,null,n.a.createElement(F.a,{basePath:a,record:t}),n.a.createElement(R.a,{basePath:a,record:t,resource:c})))},Y=function(e){return n.a.createElement(T.a,Object.assign({actions:n.a.createElement(K,null)},e),n.a.createElement(_.a,null,n.a.createElement(N.a,{source:"name"}),n.a.createElement(N.a,{source:"username"}),n.a.createElement(N.a,{source:"email"})))},G=function(e){return n.a.createElement(z.a,e,n.a.createElement(C.a,null,n.a.createElement(J.a,{source:"name"}),n.a.createElement(J.a,{source:"username"}),n.a.createElement(J.a,{source:"email"})))},V=function(e){return n.a.createElement(U.a,e,n.a.createElement(C.a,null,n.a.createElement(J.a,{source:"name"}),n.a.createElement(J.a,{source:"username"}),n.a.createElement(J.a,{source:"email"})))},$=function(e){var a=Object(j.unparse)({data:e,fields:["nameLengkap","nik","desa","rt","rw","tps","kecamatan","koordinator"]});Object(I.a)(a,"daftar_caleg")},q=function(e){try{var a=localStorage.getItem("RAFirebaseProfile"),t=JSON.parse(a);return n.a.createElement(A.a,Object.assign({title:"All caleg",exporter:$},e),n.a.createElement(y.a,null,n.a.createElement(N.a,{source:"nameLengkap"}),n.a.createElement(N.a,{source:"nik"}),n.a.createElement(N.a,{source:"desa"}),n.a.createElement(N.a,{source:"rt"}),n.a.createElement(N.a,{source:"rw"}),n.a.createElement(N.a,{source:"tps"}),n.a.createElement(N.a,{source:"kecamatan"}),n.a.createElement(N.a,{source:"koordinator"}),t&&t.isAdmin?n.a.createElement(F.a,null):null,n.a.createElement(L.a,null)))}catch(r){}},H={zIndex:2,display:"inline-block",float:"right"},M=function(e){var a=e.basePath,t=e.data,c=e.resource,o=localStorage.getItem("RAFirebaseProfile"),l=JSON.parse(o);return n.a.createElement(x.a,{style:H},l&&l.isAdmin&&n.a.createElement(r.Fragment,null,n.a.createElement(F.a,{basePath:a,record:t}),n.a.createElement(R.a,{basePath:a,record:t,resource:c})))},Q=function(e){return n.a.createElement(T.a,Object.assign({actions:n.a.createElement(M,null)},e),n.a.createElement(_.a,null,n.a.createElement(N.a,{source:"nameLengkap"}),n.a.createElement(N.a,{source:"nik"}),n.a.createElement(N.a,{source:"desa"}),n.a.createElement(N.a,{source:"rt"}),n.a.createElement(N.a,{source:"rw"}),n.a.createElement(N.a,{source:"tps"}),n.a.createElement(N.a,{source:"kecamatan"}),n.a.createElement(N.a,{source:"koordinator"})))},X=function(e){return n.a.createElement(z.a,e,n.a.createElement(C.a,null,n.a.createElement(J.a,{source:"nameLengkap"}),n.a.createElement(J.a,{source:"nik"}),n.a.createElement(J.a,{source:"desa"}),n.a.createElement(J.a,{source:"rt"}),n.a.createElement(J.a,{source:"rw"}),n.a.createElement(J.a,{source:"tps"}),n.a.createElement(J.a,{source:"kecamatan"}),n.a.createElement(J.a,{source:"koordinator"})))},Z=function(e){return n.a.createElement(U.a,e,n.a.createElement(C.a,null,n.a.createElement(J.a,{source:"nameLengkap"}),n.a.createElement(J.a,{source:"nik"}),n.a.createElement(J.a,{source:"desa"}),n.a.createElement(J.a,{source:"rt"}),n.a.createElement(J.a,{source:"rw"}),n.a.createElement(J.a,{source:"tps"}),n.a.createElement(J.a,{source:"kecamatan"}),n.a.createElement(J.a,{source:"koordinator"})))},ee={userProfilePath:"/users/"},ae=Object(h.b)(Object(h.a)({apiKey:"AIzaSyDyTBLLk2DC1GYovd_nmxYKF1Lkl83P7V0",authDomain:"hazel-delight-146613.firebaseapp.com",databaseURL:"https://hazel-delight-146613.firebaseio.com",projectId:"hazel-delight-146613",storageBucket:"hazel-delight-146613.appspot.com",messagingSenderId:"419611045372"},{trackedResources:[{name:"caleg",isPublic:!0},{name:"users",isPublic:!0}]})),te=function(e){function a(){return Object(l.a)(this,a),Object(u.a)(this,Object(i.a)(a).apply(this,arguments))}return Object(m.a)(a,e),Object(s.a)(a,[{key:"render",value:function(){return n.a.createElement(E.a,{dataProvider:ae,authProvider:P(ee)},n.a.createElement(d.a,{name:"users",show:Y,list:D,edit:V,create:G}),n.a.createElement(d.a,{name:"caleg",show:Q,list:q,edit:Z,create:X}))}}]),a}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(n.a.createElement(te,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},544:function(e,a,t){e.exports=t(1016)},549:function(e,a,t){}},[[544,1,2]]]);
//# sourceMappingURL=main.e766fe55.chunk.js.map