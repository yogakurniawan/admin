{"version":3,"sources":["lib/AuthProvider.js","Caleg.js","App.js","serviceWorker.js","index.js"],"names":["baseConfig","userProfilePath","localStorageTokenName","localStorageProfileName","handleAuthStateChange","_handleAuthStateChange","Object","asyncToGenerator","regenerator_default","a","mark","_callee","auth","config","snapshot","profile","firebaseToken","user","wrap","_context","prev","next","firebase","database","ref","uid","once","sent","val","getIdToken","localStorage","setItem","JSON","stringify","abrupt","signOut","removeItem","Error","stop","this","_x","_x2","apply","arguments","AuthProvider","length","undefined","objectSpread","_ref","_callee2","type","params","username","password","alreadySignedIn","_context2","AUTH_LOGOUT","catch","currentUser","reload","AUTH_CHECK","Promise","resolve","onAuthStateChanged","AUTH_LOGIN","signInWithEmailAndPassword","_x3","_x4","nik","orderByChild","equalTo","on","nikValidation","values","checkIfNikExists","then","exporter","posts","csv","convertToCSV","data","fields","downloadCSV","BulkActionButtons","props","profileJson","getItem","parse","isAdmin","react_default","createElement","BulkDeleteButton","CalegList","List","assign","title","bulkActionButtons","Caleg_BulkActionButtons","Datagrid","TextField","source","EditButton","ShowButton","error","cardActionStyle","zIndex","display","float","CalegShowActions","basePath","resource","CardActions_default","style","react","record","DeleteButton","CalegShow","Show","actions","Caleg_CalegShowActions","SimpleShowLayout","CalegCreateToolbar","console","log","Toolbar","SaveButton","disabled","invalid","CalegCreate","Create","SimpleForm","toolbar","Caleg_CalegCreateToolbar","asyncValidate","TextInput","CalegEdit","Edit","authConfig","dataProvider","base64Uploader","RestProvider","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","trackedResources","name","isPublic","App","Admin","authProvider","Resource","show","list","edit","create","Component","Boolean","window","location","hostname","match","ReactDOM","render","src_App","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.6760c22e.chunk.js","sourcesContent":["/* globals localStorage */\nimport {\n  AUTH_LOGIN,\n  AUTH_LOGOUT,\n  AUTH_CHECK\n} from \"react-admin\";\nimport firebase from \"firebase\";\n\nconst baseConfig = {\n  userProfilePath: \"/users/\",\n  localStorageTokenName: \"RAFirebaseClientToken\",\n  localStorageProfileName: \"RAFirebaseProfile\",\n  handleAuthStateChange: async (auth, config) => {\n    if (auth) {\n      const snapshot = await firebase\n        .database()\n        .ref(config.userProfilePath + auth.user.uid)\n        .once(\"value\");\n      const profile = snapshot.val();\n\n      if (profile) {\n        const firebaseToken = await auth.user.getIdToken();\n        let user = { auth, profile, firebaseToken };\n        localStorage.setItem(config.localStorageTokenName, firebaseToken);\n        localStorage.setItem(\n          config.localStorageProfileName,\n          JSON.stringify(profile)\n        );\n        return user;\n      } else {\n        firebase.auth().signOut();\n        localStorage.removeItem(config.localStorageTokenName);\n        localStorage.removeItem(config.localStorageProfileName);\n        throw new Error(\"sign_in_error\");\n      }\n    } else {\n      localStorage.removeItem(config.localStorageTokenName);\n      localStorage.removeItem(config.localStorageProfileName);\n      throw new Error(\"sign_in_error\");\n    }\n  }\n};\n\nexport default (config = {}) => {\n  config = { ...baseConfig, ...config };\n\n  const firebaseLoaded = () =>\n    new Promise(resolve => {\n      firebase.auth().onAuthStateChanged(resolve);\n    });\n\n  return async (type, params) => {\n    if (type === AUTH_LOGOUT) {\n      config.handleAuthStateChange(null, config).catch(() => {});\n      return firebase.auth().signOut();\n    }\n\n    if (firebase.auth().currentUser) {\n      await firebase.auth().currentUser.reload();\n    }\n\n    if (type === AUTH_CHECK) {\n      await firebaseLoaded();\n\n      if (!firebase.auth().currentUser) {\n        throw new Error(\"sign_in_error\");\n      }\n\n      return true;\n    }\n\n    if (type === AUTH_LOGIN) {\n      const { username, password, alreadySignedIn } = params;\n      let auth = firebase.auth().currentUser;\n\n      if (!auth || !alreadySignedIn) {\n        auth = await firebase\n          .auth()\n          .signInWithEmailAndPassword(username, password);\n      }\n\n      return config.handleAuthStateChange(auth, config);\n    }\n\n    return false;\n  };\n};\n","import React, { Fragment } from \"react\";\nimport CardActions from \"@material-ui/core/CardActions\";\nimport firebase from \"firebase\";\nimport { unparse as convertToCSV } from \"papaparse/papaparse.min\";\nimport {\n  downloadCSV,\n  Show,\n  SimpleShowLayout,\n  List,\n  Edit,\n  Create,\n  Toolbar,\n  Datagrid,\n  TextField,\n  SaveButton,\n  EditButton,\n  DeleteButton,\n  ShowButton,\n  SimpleForm,\n  TextInput,\n  BulkDeleteButton\n} from \"react-admin\";\n\nasync function checkIfNikExists(nik) {\n  return new Promise(resolve => {\n    const calegRef = firebase.database().ref(\"caleg\");\n    calegRef\n      .orderByChild(\"nik\")\n      .equalTo(nik)\n      .on(\"value\", function(snapshot) {\n        resolve(snapshot.val());\n      });\n  });\n}\n\nconst nikValidation = values => {\n  if (values.nik) {\n    return checkIfNikExists(values.nik).then(snapshot => {\n      if (snapshot !== null) {\n        throw { nik: \"NIK can not be same\" };\n      }\n    });\n  }\n  return Promise.resolve();\n};\n\nconst exporter = posts => {\n  const csv = convertToCSV({\n    data: posts,\n    fields: [\n      \"nameLengkap\",\n      \"nik\",\n      \"desa\",\n      \"rt\",\n      \"rw\",\n      \"tps\",\n      \"kecamatan\",\n      \"koordinator\"\n    ]\n  });\n  downloadCSV(csv, \"daftar_caleg\");\n};\n\nconst BulkActionButtons = props => {\n  const profileJson = localStorage.getItem(\"RAFirebaseProfile\");\n  const profile = JSON.parse(profileJson);\n  return profile && profile.isAdmin ? <BulkDeleteButton {...props} /> : <div />;\n};\nexport const CalegList = props => {\n  try {\n    const profileJson = localStorage.getItem(\"RAFirebaseProfile\");\n    const profile = JSON.parse(profileJson);\n    return (\n      <List\n        title=\"All caleg\"\n        bulkActionButtons={<BulkActionButtons />}\n        exporter={exporter}\n        {...props}\n      >\n        <Datagrid>\n          <TextField source=\"nameLengkap\" />\n          <TextField source=\"nik\" />\n          <TextField source=\"desa\" />\n          <TextField source=\"rt\" />\n          <TextField source=\"rw\" />\n          <TextField source=\"tps\" />\n          <TextField source=\"kecamatan\" />\n          <TextField source=\"koordinator\" />\n          {profile && profile.isAdmin ? <EditButton /> : null}\n          <ShowButton />\n        </Datagrid>\n      </List>\n    );\n  } catch (error) {}\n};\n\nconst cardActionStyle = {\n  zIndex: 2,\n  display: \"inline-block\",\n  float: \"right\"\n};\n\nconst CalegShowActions = ({ basePath, data, resource }) => {\n  const profileJson = localStorage.getItem(\"RAFirebaseProfile\");\n  const profile = JSON.parse(profileJson);\n  return (\n    <CardActions style={cardActionStyle}>\n      {profile && profile.isAdmin && (\n        <Fragment>\n          <EditButton basePath={basePath} record={data} />\n          <DeleteButton basePath={basePath} record={data} resource={resource} />\n        </Fragment>\n      )}\n    </CardActions>\n  );\n};\n\nexport const CalegShow = props => {\n  return (\n    <Show actions={<CalegShowActions />} {...props}>\n      <SimpleShowLayout>\n        <TextField source=\"nameLengkap\" />\n        <TextField source=\"nik\" />\n        <TextField source=\"desa\" />\n        <TextField source=\"rt\" />\n        <TextField source=\"rw\" />\n        <TextField source=\"tps\" />\n        <TextField source=\"kecamatan\" />\n        <TextField source=\"koordinator\" />\n      </SimpleShowLayout>\n    </Show>\n  );\n};\n\nconst CalegCreateToolbar = props => {\n  console.log(props);\n  return (\n    <Toolbar {...props}>\n      <SaveButton disabled={props.invalid} />\n    </Toolbar>\n  );\n};\n\nexport const CalegCreate = props => (\n  <Create {...props}>\n    <SimpleForm toolbar={<CalegCreateToolbar />} asyncValidate={nikValidation}>\n      <TextInput source=\"nameLengkap\" />\n      <TextInput source=\"nik\" />\n      <TextInput source=\"desa\" />\n      <TextInput source=\"rt\" />\n      <TextInput source=\"rw\" />\n      <TextInput source=\"tps\" />\n      <TextInput source=\"kecamatan\" />\n      <TextInput source=\"koordinator\" />\n    </SimpleForm>\n  </Create>\n);\n\nexport const CalegEdit = props => (\n  <Edit {...props}>\n    <SimpleForm>\n      <TextInput source=\"nameLengkap\" />\n      <TextInput source=\"nik\" />\n      <TextInput source=\"desa\" />\n      <TextInput source=\"rt\" />\n      <TextInput source=\"rw\" />\n      <TextInput source=\"tps\" />\n      <TextInput source=\"kecamatan\" />\n      <TextInput source=\"koordinator\" />\n    </SimpleForm>\n  </Edit>\n);\n","import React, { Component } from \"react\";\nimport { Admin, Resource } from \"react-admin\";\nimport { RestProvider, base64Uploader } from \"ra-data-firebase-client\";\nimport AuthProvider from \"./lib/AuthProvider\";\n\nimport { CalegList, CalegEdit, CalegCreate, CalegShow } from \"./Caleg\";\n\nconst firebaseConfig = {\n  apiKey: \"AIzaSyCV0hW81oUY1aYK4CKqsgjUJ7zj_uj_QXQ\",\n  authDomain: \"calonpemilih-836e5.firebaseapp.com\",\n  databaseURL: \"https://calonpemilih-836e5.firebaseio.com\",\n  projectId: \"calonpemilih-836e5\",\n  storageBucket: \"calonpemilih-836e5.appspot.com\",\n  messagingSenderId: \"797809077654\"\n};\n\nconst trackedResources = [\n  { name: \"caleg\", isPublic: true },\n  { name: \"users\", isPublic: true }\n];\n\nconst authConfig = {\n  userProfilePath: \"/users/\"\n};\n\n// to run this demo locally, please feel free to disable authProvider to bypass login page\n\nconst dataProvider = base64Uploader(\n  RestProvider(firebaseConfig, { trackedResources })\n);\n\nclass App extends Component {\n  render() {\n    return (\n      <Admin\n        dataProvider={dataProvider}\n        authProvider={AuthProvider(authConfig)}\n      >\n        <Resource\n          name=\"caleg\"\n          show={CalegShow}\n          list={CalegList}\n          edit={CalegEdit}\n          create={CalegCreate}\n        />\n      </Admin>\n    );\n  }\n}\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}